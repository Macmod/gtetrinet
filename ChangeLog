2004-12-25  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Add «nb» to ALL_LINGUAS.

2004-10-26  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: Update for new translations.

2004-10-21  Loren Abrams  <durnew@pacbell.net>

	* NEWS: GTetrinet is now minimally compliant with tetrinet.org's new
	scoring requirements.
	* src/tetrinet.c (tetrinet_inmessage): Added support for btrixnewgame.
	Added support for clientinfo identification.  Both features of the
	Blocktrix protocol.
	(tetrinet_nextblock): Added support for a no block delay btrixnewgame.
	* src/client.c: Added support for transfer of IN_BTRIXNEWGAME and
	OUT_CLIENTINFO protocol messages.

2004-10-05 Amanpreet Singh Alam <amanpreetaalm@yahoo.com>
	
	* configure.in (ALL_LINGUAS): Add "pa" Punjabi language.

2004-08-31  Jordi Mallach  <jordi@sindominio.net>

	* configure.in (ALL_LINGUAS): Added "ko" (Korean).
	* NEWS: Update.
	* autogen.sh: Require automake 1.7 again, hoping that it's
	not broken anymore.

2004-07-17  Alessio Frusciante  <algol@firenze.linux.it>

	* configure.in: Added "it" (Italian) to ALL_LINGUAS.

2004-04-18  Jordi Mallach  <jordi@sindominio.net>

	* autogen.sh: Back out automake-1.7 requirement.
	* NEWS: Updated for 0.7.7.
	* configure.in: Released gtetrinet 0.7.7.

2004-04-16  Dani Carbonell  <bocata@panete.net>

	* configure.in: Released GTetrinet 0.7.6.

2004-04-16  Dani Carbonell  <bocata@panete.net>

	* src/dialogs.c (prefdialog_new): fixed the gnome_url button, the
	webpage name has changed.

2004-02-16  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: Updated for 0.7.6.
	
	* autogen.sh: Require automake 1.7 or newer.

2004-02-12  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: Updated.

2004-04-12  Dani Carbonell  <bocata@panete.net>

	* src/dialogs.c (prefdialog_new): Added a button to the
	Preferences dialog, that opens a browser window with the GTetrinet
	themes webpage.
	
	* src/gtetrinet.c (keypress): Return only when Alt+1, +2 or +3 is
	pressed. This fixes the bug reported by Christian Kröner :)

	* src/fields.c (fields_page_contents): Changed the game's messages
	widget to expand instead of shrink. Enlarged its height up to 70
	pixels.

	* src/gtetrinet.c (main): Made the GTetrinet main window
	resizable. This doesn't mean that the fields will resize ;)

2004-03-30  Adam Weinberger  <adamw@gnome.org>

	* configure.in: Added en_CA to ALL_LINGUAS.

2004-03-25  Gareth Owen  <gowen72@yahoo.com>

	* configure.in: Added en_GB to ALL_LINGUAS

2004-03-08 Alastair McKinstry <mckinstry@computer.org>

	* configure.in: Added "ga" to ALL_LINGUAS.

2004-02-07  Kjartan Maraas  <kmaraas@gnome.org>

	* src/Makefile.am: Remove deprecated flags. Broke the build.

2004-02-07  Robert Sedak  <robert.sedak@sk.htnet.hr>

	* configure.in: Added "hr" (Croatian) to ALL_LINGUAS.

2003-10-05  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: Update for 0.7.5.
	* configure.in: Released gtetrinet 0.7.5.

2003-09-01  Metin Amiroff  <metin@karegen.com>

	* configure.in: Added "az" in ALL_LINGUAS.

2003-08-30  Jordi Mallach  <jordi@sindominio.net>

	* src/dialogs.c (teamdialog_new): Activate the Cancel button when
	Esc is pressed.
	(connectdialog_button): Likewise.
	(connectdialog_new): Likewise.
	(prefdialog_new): Don't make the Close button the default action.
	Patches from Dagfinn Ilmari Mannsåker. Thanks!

2003-08-29  Dani Carbonell  <bocata@panete.net>

	* src/gtetrinet.c (keypress): fixing the key press signal handling
	code yet again :D Now the french users should be able to use the
	default number keys.

2003-08-29  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: Add 0.7.4 items.

	* configure.in: Release gtetrinet 0.7.4.

2003-08-28  Dani Carbonell  <bocata@panete.net>

	* gtetrinet.schemas.in: disabled the channel list by default

2003-08-28  Dafydd Harries  <daf@parnassus.ath.cx>

	* configure.in: Added "cy" (Welsh) to ALL_LINGUAS.

2003-08-28  Jordi Mallach  <jordi@sindominio.net>

	* src/gtetrinet.c (keypress): Ignore K_GAMEMSG presses if the game
	hasn't started, fixes Debian Bug#205658. Patch from
	Benjamin Drieu <benj@debian.org>, thanks!

2003-08-20  Dani Carbonell  <bocata@panete.net>

	* src/fields.c (fields_page_new): Changed the cursor when the
	mouse is above the fields to be GDK_X_CURSOR. This seems to behave
	better with X 4.3.x

2003-08-16  Dani Carbonell  <bocata@panete.net>

	* src/config.c: Addded missing default keys to the 'defaultkeys'
	array, fixes Debian bug #205656.

	* src/config.h (GTetrinetKeys): Changed this bunch of defines to be a
	single enum.

2003-08-10  Hasbullah Bin Pit <sebol@ikhlas.com>
	
	* configure.in: Added 'ms' (Malay) to AlL_LINGUAS.
   	* po/ms.po: Added Malay translation.

2003-08-07  Dani Carbonell  <bocata@panete.net>

	* src/dialogs.c (teamdialog_new, connectdialog_new): applied patch
	from Dagfinn Ilmari Mannsåker, closes bug #119356.

2003-07-25  Artur Flinta  <aflinta@cvs.gnome.org>

	* configure.in: Added "pl" to ALL_LINGUAS.

2003-07-15  Jordi Mallach  <jordi@sindominio.net>

	* src/command.c (about_command): Remove gettext calls from copyright
	statement and replace (C) with the UTF-8 copyright symbol.

2003-07-06  Jordi Mallach  <jordi@sindominio.net>

	* configure.in: For some reason, some people were getting
	AM_GNU_GETTEXT calls due to our use of AM_GNU_GETTEXT_VERSION, which
	broke as we have no intl/. Kick it.

2003-06-23  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: Update for 0.7.3.

	* configure.in: release gtetrinet 0.7.3.

2003-06-23  Jordi Mallach  <jordi@sindominio.net>

	* configure.in (ALL_LINGUAS): Add "mk" (Macedonian).

2003-06-14  Dani Carbonell  <bocata@panete.net>

	* src/commands.c (show_connect_button, show_disconnect_button):
	new functions, to show and hide the connect button in the toolbar.
	(make_menus): hide the disconnect button at startup.

	* src/commands.h (show_disconnect_button, show_disconnect_button):
	new functions.

	* src/tetrinet.c (tetrinet_inmessage): added logic to show and
	hide the connect/disconnect buttons.

2003-06-13  Dani Carbonell  <bocata@panete.net>

	* src/tetrinet.c (tetrinet_key): fixed this keypress signal
	handling stage, it was returning FALSE when a key was processed,
	instead of TRUE.

	* src/gtetrinet.c (keypress): slightly changed the keypress signal
	handling logic.

2003-06-08  Jordi Mallach  <jordi@sindominio.net>

	* TODO: Updated.

2003-06-08  Jordi Mallach  <jordi@sindominio.net>

	* src/Makefile.am (GTETPIXMAPSDIR): Define as
	$(datadir)/pixmaps/gtetrinet.
	(PIXMAPSDIR): Change to $(datadir)/pixmaps.
	* src/winlist.c (winlist_page_new): Use GTETPIXMAPSDIR instead of
	PIXMAPSDIR.

2003-06-07  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: Update for 0.7.2.

	* configure.in: Release gtetrinet 0.7.2, "Tellement mieux".

2003-06-07  Dani Carbonell  <bocata@panete.net>

	* src/commands.c (make_menus): added keyboard shortcuts to Start,
	Pause, Stop, Connect, Disconnect and Change Team menu items.

	* src/tetrinet.c (tetrinet_key): change the default return value
	from FALSE to TRUE. This was preventing ctrl+q from working when
	the user was in the fields tab.

2003-06-06  Jordi Mallach  <jordi@sindominio.net>

	* src/config.c (config_loadconfig): load values for new keys.
	Add notify functions for new gconf keys.
	* src/config.h: Add new declarations and key defines.
	* src/dialogs.c (prefdialog_drawkeys): Add new actions to treeview.
	* src/gtetrinet (main): Notify gconf of changes to new keys.
	* src/tetrinet.c (tetrinet_key): Handle new special keys. Closes
	Bugzilla Bug#105117.

	* gtetrinet.schemas.in: Add schemas for new configurable game keys.

2003-06-05  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: Update for 0.7.2.

2003-06-05  Dani Carbonell  <bocata@panete.net>

	* src/partyline.c (textentry): Show the /msgs commands in the partyline.

2003-06-05  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: Added "zh_TW" to ALL_LINGUAS.

2003-06-04  Dani Carbonell  <bocata@panete.net>

	* src/partyline.c (is_nick): new function, it will compare the
	actual string with a complete nickname. The completion will be
	done with the first match.
	(playerlist_complete_nick): new function, it'll launch the
	iteration through the player list, calling is_nick for each nick.
	(entrykey): launch the nick completion when the TAB key is hit.

	* src/commands.h (show_stop_button, show_start_button): new functions.

	* src/commands.c: changed the button order.
	(make_menus): hide the stop button just after the toolbar has been created.
	(show_stop_button): new function, it will hide the start button,
	and show the stop one.
	(show_start_button): new function, it will show the start button,
	and hide the stop one.

	* src/tetrinet.c (tetrinet_inmessage): show / hide the toolbar
	buttons when required.

2003-06-03  Jordi Mallach  <jordi@sindominio.net>

	* gtetrinet.desktop.in: change value of Terminal from 0 to false to
	placate desktop-file-validate.

2003-06-02  Dani Carbonell  <bocata@panete.net>

	* src/dialogs.c (prefdialog_new): changed the size of some widgets
	in the Keyboard tab.

	* src/winlist.c (winlist_page_new): added scrollbars to the
	winlist, also made it bigger.

2003-06-02  Jordi Mallach  <jordi@dindominio.net>

	* configure.in (ALL_LINGUAS): Added "eu" (Basque).

2003-06-02  Dani Carbonell  <bocata@panete.net>

	* src/fields.c (fields_page_new): create here the cursors that
	will be used later to hide/restore the main cursor.
	(fields_expose_event, fields_nextpiece_expose) 
	(fields_specials_expose): hide the cursor if the user is in a
	game, show it otherwise.

	* src/dialogs.c (connectingdialog_new): set a parent for this
	window, set it modal, and don't show it in the windows list.
	

2003-05-28  Danilo Å egan  <dsegan@gmx.net>

	* configure.in: Added "sr" and "sr@Latn" to ALL_LINGUAS.

2003-04-14  Dani Carbonell  <bocata@panete.net>

	* icons/ added to CVS
	
	* Makefile.am: added "icons" to SUBDIRS
	* configure.in: added the "icons" directory

	* src/Makefile.am: changed PIXMAPSDIR constant

	* src/commands.c: changed the toolbar icons

	* src/partyline.c (partyline_update_channel_list): update the channel
	list only if we're connected.
	(partyline_show_channel_list): update the list when it's enabled.

	* src/winlist.c: use pretty icons instead of that ugly 'T'.

	* src/images/Makefile.am: added new icons to EXTRA_DIST

2003-04-14  Jordi Mallach  <jordi@sindominio.net>

	* src/dialogs.c (connectdialog_new):
	(prefdialog_new): added mnemonics to the labels

2003-04-14  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: Updated.

	* configure.in: released gtetrinet 0.7.1.

2003-04-10  Dani Carbonell  <bocata@panete.net>

	* src/partyline.c (partyline_page_new): Removed a unused variable.
	Fixed #110447.

2003-04-10  Jordi Mallach  <jordi@sindominio.net>

	* configure.in: removed call to AM_GNU_GETTEXT.

2003-04-09  Dani Carbonell  <bocata@panete.net>

	* gtetrinet.schemas.in: added a new schema for the Enable Channel List
	option.

	* src/client.c (client_readmsg): clarified the error message.

	* src/config.c: added support for the new option.
	(partyline_enable_channel_list_changed): handler for the gconf key.
	(config_loadconfig): added code to get the configuration of the new
	option.

	* src/config.h: added the prototype for the new handler.

	* src/dialogs.c: added the UI for the new option.
	(prefdialog_channeltoggle): new handler.
	(prefdialog_new): added code for the new option. Also, modified the
	policy of the keys scrolled window, so you can now horizontally scroll
	it.

	* src/gtetrinet.c (main): added a GConf notification for the new option.

	* src/partyline.c: Added a convenience function for the Enable Channel
	List option changed handler. Also, added code to parse the channel list
	of one more server.
	(partyline_page_new): slightly modified so we can now easily hide the
	channel list.
	(partyline_add_channel): added code to support a new server.
	(partyline_show_channel_list): new convenience function, it will show
	or hide the channel list as requested by the user.

	* src/partyline.h: two new declarations, the convenience function and
	the variable that is used to cache the GConf setting.

	* src/tetrinet.c (tetrinet_inmessage): added code to support one more
	server.

2003-04-04  Jordi Mallach  <jordi@sindominio.net>

	* Makefile.am: fix the install path for desktop files.

2003-03-25  Dani Carbonell  <bocata@panete.net>

	* src/partyline.c (entrykey): fixed a bug when hitting the up or
	down arrow key when writing in the partyline textentry, after inserting
	a unicode control character.

2003-03-18  Jordi Mallach  <jordi@sindominio.net>

	* configure.in (ALL_LINGUAS): Added "ja" (Japanese).

2003-03-17  Daniel Carbonell Fraj  <bocata@panete.net>

	* src/partyline.c (partyline_add_channel): changed the parsing code, so 
	now it can parse the lines sent by the tetrinet java server.

	* src/tetrinet.c (tetrinet_inmessage): added support for the
	tetrinet java server.

2003-03-17  Jordi Mallach  <jordi@sindominio.net>

	* TODO: Updated for 0.7.0.
	* configure.in: released gtetrinet 0.7.0.

2003-03-17  Jordi Mallach  <jordi@sindominio.net>

	* src/fields.c (gmsginput_activate): Patch from Robert Cheramy, to
	workaround segfaults when trying to input characters not supported
	by the current locale.
	* src/partyline.c (textentry): Likewise.

	* AUTHORS, TODO: Updated.
	* README: Changed contact address.

2003-03-17  Jordi Mallach  <jordi@sindominio.net>

	* configure.in (ALL_LINGUAS): Added "ru" (Russian).

2003-03-16  Christophe Merlet  <redfox@redfoxcenter.org>

	* configure.in: Added "fr" (French) to ALL_LINGUAS.

2003-03-14  Yuriy Syrota <rasta renome.rovno.ua>

	* configure.in: Added "uk" (Ukrainian) to ALL_LINGUAS.

2003-03-08  Evandro Fernandes Giovanini <evandrofg@ig.com.br>

	* configure.in: Added "pt_BR" (Brazilian Portuguese) to ALL_LINGUAS.

2003-03-05  Duarte Loreto <happyguy_pt@hotmail.com>

        * configure.in: Added "pt" to ALL_LINGUAS.

2003-03-03  James Antill  <james@and.org>

	* src/tetrinet.c (tetrinet_sendfield): Put a warning in if blocks are
	out of range.
	(tetrinet_old_sendfield): Add checking code

2003-02-24  Dani Carbonell  <bocata@panete.net>

	* src/partyline.c (stop_list): list_issued is a integer, changed
	accordingly.
	(partyline_update_channel_list): if there is another channel list
	update in progress, do nothing. This will prevent us from being
	kicked from the server because of flood.
	
	* src/tetrinet.c (tetrinet_inmessage): fixed the stupid bug that 
	prevented the channel list from working in tetrinet.org.

2003-02-22  ChipX86 <chipx86@chipx86.com>

	* gtetrinet.schemas.in: Add schema info. for timestamp pref.
	* src/config.c: Add config for timestamping partyline text.
	* src/config.h: Add config for timestamping partyline text.
	* src/dialogs.c: Add config for timestamping partyline text.
	* src/gtetrinet.c: Add config for timestamping partyline text.
	* src/partyline.c: Add timestamps if config is set.
	* src/partyline.h: Add config for timestamping partyline text.

2003-02-22  James Antill  <james@and.org>

	* src/config.c (config_loadtheme): If current theme has no name,
	revert to default.

	* src/fields.c (fields_init): If the current theme fails to load,
	change the preference.

2003-02-20  Jordi Mallach  <jordi@sindominio.net>

	* src/tetrinet.c (tetrinet_sendfield): Patch from Ian Zink with big
	optimizations.

2003-02-19  James Antill  <james@and.org>

	* src/partyline.c (textentry): Add ESC for "/list" parser when user
	types "/list".
	
	* src/misc.c (textbox_addtext): Fix attributes (bold, italic etc.
	were never being set).
	(textbox_addtext): Don't insert using tags if nothing changed, this
	seems to work around a bug when using LANG=en_US.UTF-8 gtetrinet. Don't
	ask me why.

2003-02-18  Jordi Mallach  <jordi@sindominio.net>

	* Makefile.am (INCLUDES): removed, not needed here.

2003-02-17  Dani Carbonell  <bocata@panete.net>

	* src/partyline.c: slightly modified the partyline UI. Added the
	ability to join channels by just double-clicking in the channel list.
	(partyline_page_new): added two informative labels.
	(channel_activated): new callback for the "row-activated" signal in
	the channel list.
	(partyline_joining_channel): new function to update the label that
	shows your current channel.
	
	* src/partyline.h: added the new function declaration.
	
	* src/tetrinet.c (tetrinet_inmessage): update the new channel label.

2003-02-15  Dani Carbonell  <bocata@panete.net>

	* TODO: updated.

2003-02-14  James Antill  <james@and.org>

	* src/client.c (client_disconnect): Fix crash on exit, when connected.

2003-02-14  Dani Carbonell  <bocata@panete.net>

	* src/client.c: a few fixes in error handling.
	
	* src/gtetrinet.h: fixed a couple of function declarations.
	
	* src/partyline.c: added the channel_list widget.
	(partyline_page_new): added the new widget.
	(partyline_add_channel): new function that will add a channel to the
	list of available channels.
	(copy_item): function that will copy a item of the work_model to the
	actual model of the tree_view.
	(stop_list): new function that will be called then all the markers
	are sended back to us.
	(partyline_update_list): function to be called if you want to update
	the channel list.
	(partyline_more_channel_lines): new function that will be called if
	there are more channels waiting to be listed.
	(partyline_clear_list_channel): new function that will clear the
	list channel.
	
	* src/partyline.h: added the new function declarations.
	
	* src/tetrinet.c: install the channel list refresh signal, and parse
	the incoming messages when appropiate.
	(tetrinet_inmessage): install the signal when connecting. Refresh
	the channel list when the user completes the connection protocol.
	Parse the system messages if appropiate.
	
	* src/tetrinet.h: added new variable declaration.

2003-02-11  Dani Carbonell  <bocata@panete.net>

	* src/gtetrinet.c (main): fixed a bug when quitting GTetrinet when
	there were blocks drew.
	
	* src/tetrinet.c (tetrinet_key): removed a lot of commented and
	useless code.
	(tetrinet_inmessage): marked a string for translating.
	
2003-02-10  Dani Carbonell  <bocata@panete.net>

	* src/Makefile.am: added -DGDK_DISABLE_DEPRECATED to the compilation
	parameters.
	
	* src/client.c: fixed the connecting dialog behaviour, now GTetrinet
	doesn't hang up while the hostname is resolved.
	(client_process): this function now launches the thread that
	resolvers the hostname, does gtk_iterations while the thread finishes,
	and continues the normal connection protocol.
	(client_connect): renamed to client_resolv_hostname, now it just
	resolves the hostname, the rest of the functionality was moved to
	client_process.
	
	* src/fields.c: removed two GDK obsolete function calls.
	
	* src/gtetrinet.c: start the GThread system, if it's not started
	yet.

2003-02-09  Jordi Mallach  <jordi@sindominio.net>

	* configure.in: add debug flags if compiling from CVS.
	* src/Makefile.am: remove $(GTET_DEBUG).

2003-02-09  Dani Carbonell  <bocata@panete.net>

	* client.c: added gnome.h so some strings can be localized. Removed
	most of the cruft, now gtetrinet works with only one process.
	(client_inputfunc): removed.
	(client_cleanpipe): removed.
	(client_mainloop): removed.
	(client_initpipes): removed.
	(client_destroypipes): removed.
	(client_init): it's no longer needed to check for the child.
	(client_connectcancel): removed.
	(client_destroy): removed.
	(client_outmessage): directly send it to the socket.
	(client_inmessage): directly parse it in tetrinet.c.
	(client_process): string marked for translating. Now, the client
	process just sets up the connection and connects.
	(client_connect): sets up the g_io_channel.
	(client_disconnect): shutdowns the g_io_channel, closing the GSource
	event and shutting down also the socket.
	(io_channel_cb): callback to handle the event of new data coming
	into the socket.
	(client_sendmsg): sends the data using g_io_channel_write functions.
	(client_readmsg): reads the data using g_io_channel_read functions.
	
	* client.h: removed functions.
	
	* commands.c (disconnect_command): call client_disconnect instead of
	client_destroy.
	
	* config.c (sound_enable_sound_changed): re-cache the sounds if the
	sound option is enabled, fixes #105651.
	
	* dialogs.c (connectingdialog_button): call client_disconnect
	instead of client_connectcancel.
	
	* fields.c (fields_page_contents): few improvements to the gui.
	
	* gtetrinet.c (main): removed some useless assertions. Also, removed
	some useless function calls.

2003-02-07  Jordi Mallach  <jordi@sindominio.net>

	* NEWS, configure.in: release 0.6.2. It compiles, promise.

2003-02-07  Jordi Mallach  <jordi@sindominio.net>

	* src/config.c (config_loadtheme): oops... add missing ";" to solve
	a parse error... we really suck.

2003-02-07  Jordi Mallach  <jordi@sindominio.net>

	* NEWS, configure.in: released gtetrinet 0.6.1.

2003-02-07  James Antill  <james@and.org>

	* src/config.c (config_loadtheme): If blocks config. entry doesn't
	exist in theme error out, instead of crashing.
	(config_getthemeinfo): Use empty values, if author and/or
	description doesn't exist.
	(config_loadconfig): Don't crash if current_theme or midicmd don't
	exist.
	(config_loadconfig): Change currenttheme to a GString to fix overflow
	truncate problems.

2003-02-06  Jordi Mallach  <jordi@sindominio.net>

	* src/config.c (config_loadconfig): remove unused variable.
	(sound_midi_player_changed): remove unused parameter warnings.
	(sound_enable_sound_changed): likewise.
	(sound_enable_midi_changed): likewise.
	(themes_theme_dir_changed): likewise.
	(keys_down_changed): likewise.
	(keys_left_changed): likewise.
	(keys_right_changed): likewise.
	(keys_drop_changed): likewise.
	(keys_rotate_left_changed): likewise.
	(keys_rotate_right_changed): likewise.
	(keys_message_changed): likewise.
	(keys_discard_changed): likewise.
	* src/dialogs.c (teamdialog_new): remove unused variable.
	(prefdialog_response): remove unused variable and parameter warnings.
	* src/fields.c (gmsginput_activate): remove parameters.
	(fields_eatkey): remove unused function.
	* src/gtetrinet (switch_focus): remove unused parameter warning.
	(main): add a cast to gcofn_client_notify_add.
	(keypress): remove obsolete parameter to tetrinet_key().
	(switch_focus): remove unused paramater warnings.
	* src/tetrinet.c (tetrinet_key): remove unused parameter.

2003-02-04  Jordi Mallach  <jordi@sindominio.net>

	* NEWS, configure.in: released gtetrinet 0.6.0.

2003-02-04  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: updated for 0.6.0.
	* TODO: updated.

2003-02-04  Dani Carbonell  <bocata@panete.net

	* src/config.c (config_loadtheme): ported to libgnomeui-2.

	* src/dialogs.c: ported to libgnomeui-2.
	(connectdialog_button): ported and a minor bugfix.
	(teamdialog_button): bugfix, new team name was not being saved to
	GConf.
	
	* src/fields.c: ported to libgnomeui-2.
	(fields_cleanup): ported to GDK 2.x
	(fields_drawblock): likewise.
	
	* src/gtetrinet.c: ported to libgnomeui-2.
	
	* src/tetrinet.c: ported to libgnomeui-2.

2003-02-04  Jordi Mallach  <jordi@sindominio.net>

	* gtetrinet.desktop.in: add Encoding and Categories fields.
	* src/Makefile.am: compile with -DG_DISABLE_DEPRECATED,
	-DGTK_DISABLE_DEPRECATED and GNOME_DISABLE_DEPRECATED. GDK still
	broken.

2003-02-04  Dani Carbonell  <bocata@panete.net>

	* dialogs.c: code cleanup, removed actionid array, no longer needed.
	(prefdialog_drawkeys): code cleanup.
	(prefdialog_clistupdate): nuked, no longer needed.
	(prefdialog_restorekeys): code cleanup.
	(prefdialog_changekey): code cleanup.
	(prefdialog_midion): code cleanup.
	(prefdialog_midichanged): code cleanup.

2003-02-03  Daniel Yacob  <locales@geez.org>

	* configure.ac: Added "am" (Amharic) to ALL_LINGUAS.

2003-02-02  Dani Carbonell  <bocata@panete.net>

	* fields.c (fields_page_contents): fixed a small issue with the
	specials thingy.

2003-02-02  Dani Carbonell  <bocata@panete.net>

	* Makefile.am: added -DGTK_DISABLE_DEPRECATED to the compilation
	options.
	
	* TODO: updated (we shouldn't be using this)
	
	* dialogs.c: removed obsolete functions, minor bugfixes.
	(connectdialog_new): made unresizable.
	(keydialog_new): fixed a bug when hitting the Cancel button.
	(prefdialog_new): added scrollbars for the theme list and the keys
	list.
	
	* fields.c: removed obsolete functions, minor bugfixes.
	(fields_page_contents): first approach to allow fields resizing.
	Nothing yet. Cleaned up a bit.
	
	* gtetrinet.c: removed obsolete functions, minor bugfixes.
	
	* partyline.c: likewise.
	
	* winlist.c: likewise.
	
	* misc.c (pixmap_label): nuked, no longer needed.

2003-02-02  Jordi Mallach  <jordi@sindominio.net>

	* src/winlist.c: add a requested translation tip.

2003-02-01  Jordi Mallach  <jordi@sindominio.net>

	* configure.in: check for and export GCONFTOOL.
	Require intltool 0.25.

2003-02-01  Dani Carbonell  <bocata@panete.net>

	* gtetrinet.schemas.in: changed the type of the keys values to
	String, they are now human readable.
	
	* src/Makefile.am: keys.c, keys.h and keytable.h no longer needed,
	nuked.
	
	* src/config.c: updated so now it stores the keys in GConf as
	strings.
	(config_loadconfig): now it loads the keys as strings, instead of
	integers.
	(keys_down_changed): new function, it's a GConf notification handler
	(keys_right_changed): likewise.
	(keys_left_changed): likewise.
	(keys_rotate_right_changed): likewise.
	(keys_rotate_left_changed): likewise.
	(keys_drop_changed): likewise.
	(keys_message_changed): likewise.
	
	* src/config.h: added new function prototypes.
	
	* src/dialogs.c: fixed the gtk_progress_bar, changed it to read
	strings instead of integers from GConf.
	(connectingdialog_timeout): changed to work with gtk_progress_bar.
	(connectdialog_new): changed parent, so the connecting window shows.
	(prefdialog_drawkeys): changed to read strings instead of integers.
	(prefdialog_clistupdate): likewise.
	(prefdialog_new): changed parent, to be sure that the key_dialog
	shows.
	
	* src/gtetrinet.c (main): added new GConf notifications, also removed
	the possibility of focusing the main notebook.
	
	* src/gtetrinet.h: we need the main application widget outside of
	this .c file.
	
	* src/partyline.c (partyline_page_new): changed the focus chain so it
	now focus the entrybox by default.

2003-02-01  Jordi Mallach  <jordi@sindominio.net>

	* Makefile.am: add rules for schemas install.
	* NEWS: updated for 0.6.0.

2003-02-01  Jordi Mallach  <jordi@sindominio.net>

	* gtetrinet.schemas.in: reword a few schemas.

2003-02-01  Dani Carbonell  <bocata@panete.net>

	* gtetrinet.schemas.in: first version of the .schemas file.
	* config.h: a few prototype fixes, and add the handlers for the
	GConf keys.
	* config.c: ported to GConf, changed default keys to lowercase, and
	a few function prototype fixes.
	(config_loadtheme): prototype fix.
	(config_loadconfig): ported to GConf.
	(config_saveconfig): nuked, no longer needed.
	(load_theme): new function, designed to load a theme "in the fly".
	(sound_midi_player_changed): new function, it will handle the
	changes made to the /apps/gtetrinet/sound/midi_player key.
	(sound_enable_sound_changed): new function, it will handle the
	changes made to the /apps/gtetrinet/sound/enable_sound key.
	(sound_enable_midi_changed): new function, it will handle the
	changes made to the /apps/gtetrinet/sound/enable_midi key.
	(themes_theme_dir_changed): new function, it will handle the
	changes made to the /apps/gtetrinet/themes/theme_dir key.
	* dialogs.c: ported to GConf, and few UI improvements in the
	dialogs.
	(teamdialog_button): now it behaves as a gtk_dialog.
	(teamdialog_new): changed to gtk_dialog.
	(connectdialog_button): now it behaves as a gtk_dialog, it also
	saves the server, nickname and team to GConf.
	(connectdialog_new): changed to gtk_dialog.
	(key_dialog): changed to gtk_dialog.
	(key_dialog_callback): cleaned a bit.
	(prefdialog_drawkeys): added a convenience array, it will make
	easier the GConf operations later.
	(prefdialog_clistupdate): now it saves the changes in GConf.
	(prefdialog_restorekeys): it now operates directly into the main keys
	array.
	(prefdialog_changekeys): likewise.
	(prefdialog_soundtoggle): now it instantly saves the change in
	GConf.
	(prefdialog_miditoggle): likewise.
	(prefdialog_midichanged): likewise.
	(prefdialog_restoremidi): likewise.
	(prefdialog_themelistselect): likewise.
	(prefdialog_themeselect): cleaned a bit.
	(prefdialog_apply): nuked, no longer needed.
	(prefdialog_ok): also nuked.
	(prefdialog_response): new function, now prefdialog behave as a
	gtk_dialog.
	(prefdialog_new): changed to gtk_dialog, removed the OK and Apply
	buttons, also nuked that ugly frame.
	* gtetrinet.c: ported to GConf.
	(main): initialize all the GConf stuff. Add notifications and so.
	Also, it's no longer needed to save the configuration on quit.
	* sound.c: now it works. Really. config.h was never included, so
	HAVE_ESD was always undefined, so no sound. Cool.
	(sound_cache): ported to the new gnome_sound* functions.
	(sound_playsound): now it plays the sound from cache, a lot faster.

2003-01-29  Jordi Mallach  <jordi@sindominio.net>

	* gtetrinet.desktop.in: add StartupNotify support.

2003-01-29  Jordi Mallach  <jordi@sindominio.net>

	* src/client.c (client_connect): change deprecated g_string_sprintf
	and g_stringsprintfa to g_string_printf and g_string_append_printf.
	* src/gtetrinet.c: include <sys/poll.h>.

2003-01-28  James Antill  <james@and.org>

	* src/gtetrinet.c (gtetrinet_poll_func): Added fast poll() function.

2003-01-25  Jordi Mallach  <jordi@sindominio.net>

	* src/gtetrinet.c: remove unneeded <locale.h> include.

2003-01-24  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Added "no" to ALL_LINGUAS.
	
2003-01-24  Jordi Mallach  <jordi@sindominio.net>

	* gtetrinet.desktop.in: add bugzilla stuff.

2003-01-23  Jordi Mallach  <jordi@sindominio.net>

	* configure.in: Added "nl" to ALL_LINGUAS.

2003-01-18  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "es" to ALL_LINGUAS.

2003-01-18  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "sv" to ALL_LINGUAS.

2003-01-17  Jordi Mallach  <jordi@sindominio.net>

	* src/commands.c (about_command): remove gettext marks from author
	names, as there's no non-ASCII character to translate.

2003-01-11  Jordi Mallach  <jordi@sindominio.net>

	* NEWS, configure.in: released gtetrinet 0.5.2.

2003-01-10  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: updated for 0.5.2.
	* TODO: added a few requested items.

2003-01-10  Jordi Mallach  <jordi@sindominio.net>

	* src/config.c (config_loadconfig): use gdk_keyval_to_lower instead of
	gdk_keyval_to_upper, so gtetrinet 0.5.2 configurations are usable with
	older versions.
	* src/dialogs.c (key_dialog_callback): likewise.
	* src/gtetrinet.c (keypress): likewise.
	* src/tetrinet.c (tetrinet_key): likewise.

2003-01-10  Dani Carbonell  <bocata@panete.net>

	* src/dialogs.c (connectdialog_connected): hide the window only if
	it really existed (fixes the -c bug).

	* src/fields.c (fields_gmsginputadd): this function was useless,
	removed.
	(fields_gmsginputback): likewise

	* src/fields.h: removed those two function's declarations.

	* src/gtetrinet.c (switch_focus): new function, will handle the
	notebook's tab switching, sending focus where it should be.
	(gtetrinet_key): function cleaned.

	* src/gtetrinet.h: added the function declaration.

	* src/partyline.c (partyline_entryfocus): now it clears all the text
	in the partyline's gtk_entry.

	* src/tetrinet.c (tetrinet_endgame): now it properly closes the field's
	gtk_entry, if it's open when the game ends.
	(tetrinet_inmessage): now it properly takes into account that a
	player has left the game, so no one can attack him after he's gone.

	* src/winlist.c (winlist_focus): new function that will focus the
	winlist when the user switches to that tab.

	* src/winlist.h: added the function declaration.

2003-01-08  Jordi Mallach  <jordi@sindominio.net>

	* configure.in (AC_OUTPUT): sigh, I suck. Remove gtetrinet.desktop.

2003-01-08  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: updated.
	* src/dialogs.c (connectingdialog_timeout): apply patch from
	Ian Zink <zforce@networkusa.net>, fixes a null pointer exception
	which caused a segfault on connect for 	many people. Thanks!

2003-01-08  Dani Carbonell  <bocata@panete.net>

	* TODO: remove composed characters problem.
	* src/fields.c: rewrite fields messages entry box, so it works ok
	with composed characters.
	* src/gtetrinet.c: acomodate fields messages changes.
	* src/tetrinet.c: remove fields messages code, moved to fields.c.

2003-01-08  Jordi Mallach  <jordi@sindominio.net>

	* src/misc.c (nocolor): fix previous change.

2003-01-07  Jordi Mallach  <jordi@sindominio.net>

	* src/misc.c (nocolor): don't assume signedness of char.

2003-01-07  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: updated for 0.5.2.
	* TODO: updated.

	* src/config.c (config_loadconfig): fix a gcc-3.2 warning.

2003-01-07  Jordi Mallach  <jordi@sindominio.net>

	* src/client.c: supress compile warnings.
	* src/commands.c: likewise.
	* src/dialogs.c: likewise.
	* src/fields.c: likewise.
	* src/gtetrinet.c: likewise.
	* src/misc.c: likewise.
	* src/partyline.c: likewise.
	* src/sound.c: likewise.
	* src/tetrinet.c: likewise.
	* src/tetris.c: likewise.

	* src/*.c: update dates in copyright notices.

2003-01-07  Dani Carbonell  <bocata@panete.net>

	* dialogs.c (teamdialog_new): complete rewrite of this dialog, so it
	is now HIG compliant.
	(prefdialog_new): added spacing between buttons.
	(connectdialog_new): likewise.
	(connectdialog_button): check if user has specified a servername, a
	nickname and a spectator password before trying to connect.
	(key_dialog_callback): converted the key stroke to upper case.

	* tetrinet.c (tetrinet_key): now it converts all keystrokes to upper
	case.

	* config.c (config_loadconfig): likewise

2003-01-06  Jordi Mallach  <jordi@sindominio.net>

	* configure.in (AC_OUTPUT): add gtetrient.desktop.

2003-01-06  Jordi Mallach  <jordi@sindominio.net>

	* Makefile.am: add intltool support.
	* configure.in: likewise.
	* gtetrinet.desktop.in: new, generated from gtetrinet.desktop.

	* ABOUT-NLS: upgraded to gettext 0.11.5.
	* config.rpath: likewise.

2003-01-06  Dani Carbonell  <bocata@panete.net>

	* src/dialogs.c (prefdialog_ok): new function.
	(prefdialog_new): use prefdialog_ok() to fix behaviour of Ok button.

2003-01-06  Jordi Mallach  <jordi@sindominio.net>

	* NEWS, configure.in: released gtetrinet 0.5.1.

2003-01-06  Jordi Mallach  <jordi@sindominio.net>

	* TODO: updated.
	* NEWS: document the C locale crash, for now.

2003-01-06  Dani Carbonell  <bocata@panete.net>

	* dialogs.c (prefdialog_themelist): don't select a theme if we can't
	find it in the current theme list.

2003-01-06  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: updated for 0.5.1.
	* README: update requirements.
	* TODO: updated.

	* src/dialogs.c (teamdialog_new): patch from Dani which converts
	input to UTF-8,

2003-01-06  Dani Carbonell  <bocata@panete.net>

	* src/dialogs.c (prefdialog_new): fixed the code that checks
	if the window is opened or not, now it should not crash, even if
	abused, also connected the "destroy" signal.
	(connectingdialog_new): likewise (this should stop the connecting
	crash).
	(connectdialog_new): likewise, and I changed the button order, so
	now it's HIG compliant (OK buttons in the lower right corner).
	(teamdialog_new): likewise, and connected the "destroy" signal.

2003-01-05  Jordi Mallach  <jordi@sindominio.net>

	* NEWS, configure.in: released gtetrinet 0.5.0.

2003-01-05  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: updated for 0.5.0.
	* TODO: updated.

2003-01-05  Jordi Mallach  <jordi@sindominio.net>

	* src/commands.c (toolbar): assign an icon to the detach button,
	and add useful tooltips to each button.

2003-01-05  Dani Carbonell  <bocata@panete.net>

	* TODO: updated.

	* src/dialogs.c (connectingdialog_new): fixed behaviour when opening
	more than one window, now it presents the existing one.
	(teamdialog_new):likewise.
	(prefdialog_new):likewise.

	* src/tetrinet.c (tetrinet_key): we were giving focus to the gmsginput
	even if there was no such input visible, now we only give focus if
	gmsgstate == 1 (while writing message).

	* src/gtetrinet.c (main): gtk_window_set_policy is deprecated,
	changed to gtk_window_set_resizable.

2003-01-05  Jordi Mallach  <jordi@sindominio.net>

	* Adapt patch from Jan Bretschneider with some UI improvements that
	mimic windows tetrinet's behaviour.
	* src/gtetrinet.c (show_fields_page): new function, switches to fields
	notebook tab.
	(show_partyline_page): new funtion, switches to partyline notebook
	tab.
	* src/tetrinet.c (tetrinet_inmessage): switch to partyline on
	successful connect and on game end, and to fields on game start.

2003-01-05  Jordi Mallach  <jordi@sindominio.net>

	* src/commands.c (about_command): fix segfault when calling two about
	dialogs. Patch from James Antill.

	* src/gtetrinet.c (main): autofocus the text box when switching from
	some notetab to partyline. Patch from James Antill.

2003-01-05  Dani Carbonell  <bocata@panete.net>

	* TODO: updated.

	* src/tetrinet.c (tetrinet_inmessage): converted reason to disconnect
	to UTF-8 so it can be displayed properly.

	* src/winlist.c (winlist_additem): fixed memory leak.

	* src/misc.c (nocolor): it wasn't doing anything, reverted to its
	previous behaviour, but now it doesn't cut accented characters ( < 0 ).

	* src/fields.c (fields_setlabel): now displays correctly all the UTF-8
	characters, applying the nocolor () function to the ASCII strings
	before recoding them to UTF-8.

	* src/partyline.c (partyline_namelabel): likewise.
	(partyline_page_new): added a horizontal scrollbar to the playerlist.

	* src/gtetrinet.c (keypress): string "Playing Fields" wasn't been
	translated, and gtk_object_get_data ported to g_object_get_data.
	(keyreleased): likewise.

2003-01-05  Jordi Mallach  <jordi@sindominio.net>

	* TODO: updated.

	* src/dialog.c: port gtk_signal_connect instances to g_signal_connect.
	* src/fields.c: likewise.
	* src/gtetrinet: likewise.

2003-01-05  Jordi Mallach  <jordi@sindominio.net>

	* src/commands.c: update copyright notices... happy new year.

2003-01-05  Jordi Mallach  <jordi@sindominio.net>

	* TODO: add missing item.

	* New patch from Dani Carbonell:

	* src/commands.c (about_command): only create dialog if it doesn't
	exist. If it does, raise it.

	* src/dialogs.c (connectingdialog_destroy): remove timeouttag only if
	it isn't 0.

	* src/misc.c (leftlabel_set): convert theme info to UTF-8 before
	displaying.
	* src/winlist.c (winlist_additem): convert winlist items to UTF-8.

	* src/partyline.c (partyline_page_new): port gtk_signal_connect to
	g_signal_connect.

2003-01-05  Jordi Mallach  <jordi@sindominio.net>

	* AUTHORS: add Dani Carbonell.
	* TODO: remove done items, add new issues.
	* NEWS: updated for 0.5.0.

	* src/commands.c (about_command): update author list.

2003-01-04  Jordi Mallach  <jordi@sindominio.net>

	* Big patch from Dani Carbonell, who saved our day and fixes most of
	the pending issues in 0.5.0.

	* src/commands.c: add stock icons to the toolbar. Needs better
	icons, still.

	* src/dialogs.c (teamdialog_button): convert the team name to iso
	text before sending to the server.
	(connectdialog_button): likewise, for team, nick and server names.
	(connectdialog_new): convert nick and team names to UTF-8 before
	displaying.
	* src/fields.c (fields_setlabel): likewise.
	(fields_gmsginputadd): convert field messages to UTF-8 before
	displaying.
	(fields_gmsginputback): get previous char in UTF-8.
	* src/misc.c (textbox_addtext): replace g_utf8_normalize with
	g_locale_to_utf8.
	(nocolor): remove stripping of high characters, as we're doing UTF-8.
	* src/partyline.c (partyline_namelabel): convert nick and team names
	to UTF-8.
	(partyline_playerlist): likewise.
	(textentry): convert input from UTF-8 to ISO-8859-1.
	(entrykey): likewise.
	* src/tetrinet.c (tetrinet_key): convert messages to iso text before
	sending them to the server.

	* dialogs.c (prefdialog_drawkeys): port keys CList to GtkTreeView.
	(prefdialog_clistupdate): new function, replaces
	prefdialog_clistselect and prefdialog_clistunselect.
	(prefdialog_changekey): reworked for GtkTreeView changes.
	(prefdialog_themeselect): port themes GTK_CList to GtkTreeView.
	(prefdialog_themelist): port to GtkTreeView.
	(prefdialog_new): port to GtkTreeView.
	* src/partyline.c (partyline_page_new): port playerlist CList to
	GtkTreeView.
	Stop unsetting GTK_CAN_FOCUS flag for partyline's gtk_text_view, and
	disable set_editable and set_cursor_visible.
	(partyline_playerlist): port playerlist CList to GtkTreeViewa
	* src/winlist.c (winlist_clear): port winlist to GtkTreeView.
	(winlist_additem): likewise.

	* src/gtetrinet.c (main): assign a window icon.

	* src/misc.c (textbox_setup): don't set a background color. Doesn't
	appear to be useful at all, and makes text scrolling faster.

2003-01-04  Jordi Mallach  <jordi@sindominio.net>

	* src/tetrinet.c: correct colours for several messages.

2002-12-18  Jordi Mallach  <jordi@sindominio.net>

	* src/fields.[ch] (fields_attdeffmt): new function, based on
	partyline_fmt().
	* src/tetrinet.c (tetrinet_inmessage): replace fields_attdefmsg()
	uses that need i18n with fields_attdeffmt().

2002-12-16  Jordi Mallach  <jordi@sindominio.net>

	* src/config.c: make the "discard special" key configurable.
	(config_loadconfig): add "Keys/Discard" to the key list.
	(config_saveconfig): save "Keys/Discard".
	* src/config.h: define K_DISCARD, bump K_NUM to 8.
	* src/dialogs.c (prefdialog_drawkeys): add "Discard Special" action.

	* src/partyline.[ch] (partyline_fmt): new function, api to wrap around
	partyline_text() that is gettext friendly. Patch by James Antill.
	* src/tetrinet.c: gettextize missing partyline messages, using
	partyline_fmt() when needed.
	(partylineupdate_timeout): change logic for a message that assumed
	that "alone" is both singular and plural for all languages. Patch by
	James Antill.

2002-12-05  Jordi Mallach  <jordi@sindominio.net>

	* src/dialogs.c (prefdialog_themelist): fix memleak, spotted by
	Wichert Akkerman. closedir() before jumping to "too_many_themes".

	* TODO: add more porting problems.

2002-12-03  Jordi Mallach  <jordi@sindominio.net>

	* src/tetrinet.c (tetrinet_inmessage): patch from Niko BÃ¶hm, fixes
	player count after several /move commands.

	* AUTHORS: added Niko.

2002-12-02  James Antill  <james@and.org>

	* src/misc.c (adjust_bottom_text_view): Change function API to work on
	TextViews nativley ... use idle handler to stop syncronous updates.
	(nocolor): Change static buffer with no bounds checking to dynamicly
	sized buffer.

	* src/gtetrinet.c (keypress): Search for notebook keys before game
	keys (as 1, 2 and 3 are attack commands).

2002-11-18  Jordi Mallach  <jordi@sindominio.net>

	* AUTHORS: added Gerfried.

2002-11-18  Jordi Mallach  <jordi@sindominio.net>

	* configure.in: AM_GNU_GETTEXT was needed after all (generates
	po/Makefile) (or I am missing something).
	(ALL_LINGUAS): added German (de).

2002-11-18  Jordi Mallach  <jordi@sindominio.net>

	* src/commands.c, src/dialogs.c, src/gtetrinet.c: unify a few strings,
	to ease translator work (thanks, Gerfried Fuchs).

2002-11-08  Jordi Mallach  <jordi@sindominio.net>

	* Makefile.am: remove ACLOCAL_AMFLAGS definition.

2002-11-08  Jordi Mallach  <jordi@sindominio.net>

	* configure.in: er, AC_SUBST GETTEXT_PACKAGE too.

2002-11-08  Jordi Mallach  <jordi@sindominio.net>

	* configure.in: define GETTEXT_PACKAGE.

2002-10-30  Jordi Mallach  <jordi@sindominio.net>

	* TODO: added a list of issues to tackle.

2002-10-28  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am: remove intl as a subdir
	* configure.in: remove the evil AM_GNU_GETTEXT call, no need for
	intl/
	* intl/*: removed

2002-10-28  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am: removed m4/ added intl/
	* autogen.sh: use a gnome2 one
	* configure.in: updated to gnome2

2002-10-28  Jordi Mallach  <jordi@sindominio.net>

	* AUTHORS: added a random list of people who should be creditted.
	Probably missing many.
	* NEWS: added 0.5.0 items.

2002-10-28  Jordi Mallach  <jordi@sindominio.net>

	* src/commands.c (about_command): rename documentors to documenters.
	Add translator credits. Assign the gtetrinet icon to the about dialog.
	Add a hyperlink to GTetrinet's homepage.
	* src/gtetrinet.c (main): set bind_textdomain_codeset to "UTF-8".
	Remove useless setlocale call.

	* configure.in: bump version to 0.5.0pre1.

2002-10-28  Jordi Mallach  <jordi@sindominio.net>

	* Finally, GNOME2!

	* configure.in: require GTK 2.0.0 and various GNOME2 libs.
	* src/Makefile.am: new GNOME2 includes.
	* src/client.c, src/client.h, src/commands.c, src/dialogs.c,
	src/fields.c, src/fields.h, src/gtetrinet.c, src/misc.c, src/misc.h,
	src/partyline.c, src/tetrinet.c, src/tetrinet.h: initial port to
	GNOME2 by James Antill.

2002-10-28  Jordi Mallach  <jordi@sindominio.net>

	* src/config.c (config_loadconfig): patch from James Antill. Save
	and restore the server, as well as the server history.

2002-10-27  Jordi Mallach  <jordi@sindominio.net>

	* NEWS, configure.in: released gtetrinet 0.4.4.

2002-10-22  James Antill  <james@and.org>

	* src/tetrinet.c (tetrinet_inmessage): Check all values from atoi()
	for out of bounds.
	(tetrinet_inmessage): Check all int values from sscanf() for out of
	bounds.
	(tetrinet_inmessage): Stop buffer overflows in sscanf() %s.
	(tetrinet_inmessage): Protect playercount from overflow.
	(speclist_add): Protect spectatorcount from overflow.

2002-10-21  James Antill  <james@and.org>

	* src/tetrinet.c: Convert hard coded color/attribute values into
	constants and %c formats, when used in g_snprintf(). Readability.
	
	* src/*.c: Replace all uses of sprintf(), strcpy(), strcat(), 
	strncpy() and strncat() with GTET_STRCPY() or GTET_STRCAT().

	* src/config.c (config_getthemeinfo): Fixup buffer overflows on theme
	info load.

	* src/misc.h (GTET_STRCPY): Added safe strcpy() function.
	(GTET_STRCAT): Added safe strcat() function.
	(GTET_O_STRCPY): Added safe strcpy() function, with auto size.
	(GTET_O_STRCAT): Added safe strcat() function, with auto size.

2002-10-21  Jordi Mallach  <jordi@sindominio.net>

	* NEWS, configure.in: released gtetrinet 0.4.3.

2002-10-21  Jordi Mallach  <jordi@sindominio.net>

	* src/client.c: add missing include "../config.h".
	* src/commands.c: ifdef around include "../config.h".
	* src/config.c: likewise.
	* src/dialogs.c: likewise.
	* src/fields.c: likewise.
	* src/gtetrinet.c: likewise.
	* src/partyline.c: likewise.
	* src/tetrinet.c: likewise.
	* src/winlist.c.: likewise.

2002-10-20  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: update for 0.4.3.

	* doc/gtetrinet.6: document the keybind changes.

	* src/Makefile.am: use AM_CPPFLAGS, not CPPFLAGS.

2002-10-20  Jordi Mallach  <jordi@sindominio.net>

	* Patches from James Antill with the following fixes.
	* src/fields.c (fields_page_contents): change the attack/defense
	box's minimum size, to avoid message wraps as much as possible.
	* src/gtetrinet.c (keypress): check for modifier states.
	(gtetrinet_key): change the toggle page keybinds from F1, F2 and F3
	to Alt+1,2,3. The previous ones were normally captured by window
	managers.
	* src/misc.c (textbox_addtext): add continue in next:.
	* src/misc.h: define colours for attack/defense messages...
	* src/tetrinet.c (tetrinet_dospecial): ... and use them here,
	depending on to whom affects the special and its type.
	(tetrinet_addspecial): Fix the random order of added special blocks
	when the player just has one.
	Shorten attack/defense messages.

2002-10-19  Jordi Mallach  <jordi@sindominio.net>

	* Patch from Cougar <cougar@random.ee> which adds IPv6 support.
	* configure.in: add --enable-ipv6 option.
	* src/client.c: add support to ipv6 connections using getaddrinfo() &
	friends.

2002-10-18  Jordi Mallach  <jordi@sindominio.net>

	* src/client.c: tidy spacing between copyright header and code.
	* src/keys.c: likewise.
	* src/misc.c: likewise.
	* src/sound.c: likewise.
	* src/tetris.c: likewise.

	* src/commands.c: include "../config.h".
	* src/commands.h: remove include.
	* src/config.c: include "../config.h".
	* src/dialogs.c: include "../config.h". CList header i18n fixes.
	* src/fields.c: include "../config.h".
	* src/gtetrinet.c: likewise.
	* src/partyline.c: likewise.
	* src/tetrinet.c: likewise.
	* src/winlist.c: likewise.

2002-10-17  Jordi Mallach  <jordi@sindominio.net>

	* NEWS, configure.in: released gtetrinet 0.4.2.

2002-10-17  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: update for 0.4.2.

2002-10-17  Jordi Mallach  <jordi@sindominio.net>

	* po/Makevars (COPYRIGHT_HOLDER): set to Ka-shu Wong.

2002-10-17  Jordi Mallach  <jordi@sindominio.net>

	* src/sound.c (sound_playsound): patch from Ryan Underwood which
	fixes sound support.

2002-10-14  Jordi Mallach  <jordi@sindominio.net>

	* Makefile.am: add a "changelog" target, generates a CVS-based
	changelog. Requires cvs2cl.

2002-10-14  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: update for 0.4.2.

2002-10-14  Jordi Mallach  <jordi@sindominio.net>

	* Upgrade to gettext 0.11.5.
	* configure.in: add AM_GNU_GETTEXT_VERSION, for autopoint.

	* src/config.c: include ../config.h.

2002-10-14  Jordi Mallach  <jordi@sindominio.net>

	* configure.in: require autoconf 2.52, add switch to enable page
	detaching.

	* src/commands.c, src/commands.h: ifdef around detach UI options.
	* src/commands.h: include ../config.h.

2002-10-12  Jordi Mallach  <jordi@sindominio.net>

	* doc/gtetrinet.6: replace notes about tetrinetx's licensing problems
	with the url of the SourceForge project.

2002-10-03  Jordi Mallach  <jordi@sindominio.net>

	* src/tetrinet.c: patch from Niko BÃ¶hm which fixes a missbehaviour
	of blockbomb.

2002-07-06  Jordi Mallach  <jordi@sindominio.net>

	* themes/default/Makefile.am (EXTRA_DIST): added $(defaulttheme_DATA).
	* themes/small/Makefile.am (EXTRA_DIST): added $(smalltheme_DATA).

2002-06-29  Jordi Mallach  <jordi@sindominio.net>

	* NEWS: extracted GTetrinet's history from the ChangeLog.
	* README: fixed a few things.

	* doc/gtetrinet.6: added the manpage which I've been distributing
	with the Debian package for over a year.

	* src/Makefile.am: install gtetrinet in /usr/games by default.

2002-06-28  Bastien Nocera  <hadess@hadess.net>

	* src/partyline.c: (partyline_page_new):
	* src/winlist.c: (winlist_page_new):
	work-arounds to get the clist headers translated

2002-06-28  Jordi Mallach  <jordi@sindominio.net>

	* src/gtetrinet.c, partyline.c, partyline.h, tetrinet.c:
	patch from Bastien Nocera which fixes focusing of the text entry
	when switching to the partyline page.

2002-06-28  Jordi Mallach  <jordi@sindominio.net>

	* autogen.sh: added.

	* gtetrinet.desktop: added Catalan translations.

	* configure.in: added src/images/Makefile to AC_OUTPUT.
	* src/Makefile.am: added images to SUBDIRS.
	* src/images/Makefile.am: added, EXTRA_DIST the images.

2002-06-28  Jordi Mallach  <jordi@sindominio.net>

	* Added internationalization support.

	* Makefile,am: added missing stuff to EXTRA_DIST.
	Added po to SUBDIRS.
	* configure.in: call AM_GNU_GETTEXT, added ALL_LINGUAS.

	* src/Makefile: define $localedir and add it to the compile
	includes.
	* src/gtetrinet.c: setup gettext init.
	* src/commands.c, src/gtetrinet.c, src/tetrinet.c, src/winlist.c,
	src/winlist.c: marked missing strings for translation.

	* po/ca.po: new Catalan translation.

2002-06-28  gettextize  <bug-gnu-gettext@gnu.org>

	* Makefile.am (SUBDIRS): Add m4.
	(ACLOCAL_AMFLAGS): New variable.
	(EXTRA_DIST): New variable.
	* configure.in (AC_OUTPUT): Add po/Makefile.in, m4/Makefile.

2002-01-14  Jordi Mallach  <jordi@sindominio.net>
	* Fixed cosmetic issue in about dialog.
	* Fixed major problem in ARM, PowerPC and S/390 architectures,
	  char variables aren't signed by default in those systems.

2001-11-05
	* Cleaned up page detach patch.
	* Merged TetriFast support.
	  (tested compatible with Pihvi's Java Tetrinet Server)
	* Added some fixes by Pihvi.
	* Miscellaneous bug fixes.
	* Game messages are no longer cleared when a game ends.
	* Player listing in the partyline is now numbered.

2001-01-13
	* Merged page detach patch from Neil Bird <neil.bird@rdel.co.uk>.
	* Fixed stupid bug in tetrinet_specialkey().

2000-07-03 - version 0.4.1

2000-06-27
	* Pause/resume now causes a message to be displayed on fields page.

2000-06-26
	* GTetrinet no longer resends field upon player join.
	* Fixed spurious "The game has resumed" messages.
	* Merged partyline patch for high chars.

2000-06-08
	* Changed website addresses.
	* Made configure run properly under GNOME 1.2.
	* Changed icons to be friendlier to dark-coloured backgrounds.

2000-01-12
	* Merged patch for Solaris support from Lars Christensen.
	* Made some modifications to the README file.

1999-12-30
	* Added a couple of checks for null pointers.

1999-12-21 - version 0.4

1999-12-20
	* Fixed bug where the random filled field is not sent after player
	  loses.

1999-12-13
	* Changed layout of connection dialog, added teamname entry.

1999-12-06
	* It is now possible to change teams while not connected.
	* Fixed a stupid spectator list bug.

1999-12-05
	* Fixed a nasty messed-up field bug. (Thanks drslum!)

1999-11-29
	* Added command line options support.
	* Miscellaneous bug fixes.

1999-11-28
	* Added tetrix server detection.

1999-11-27
	* Added history to the partyline input box.

1999-11-26
	* Fixed bugs with gamemsg input box.

1999-11-25
	* Fixed level displays when in spectator mode.
	* Fixed a case when a F line is sent as a spectator.

1999-11-17
	* Tweaked display of player join, leave, and team lessages.
	* Fixed bug where multiple error dialogs are displayed.

1999-11-16
	* Display of moderator change messages are now delayed, to prevent
	  multiple messages being displayed on connection to server.

1999-11-14
	* kick and playerwon messages from the server are now handled.
	  (appropriate messages are displayed in the partyline screen)

1999-11-09
	* Most of spectator support done.

1999-11-08
	* Miscellaneous bug fixes + stuff for spectator support.

1999-11-06
	* Reduced the number of field updates sent to server.
	* Miscellaneous bug fixes.

1999-08-21
	* Added checkboxes in preferences dialog to enable/disable sound.

1999-07-27
	* Added debian/ directory.

1999-07-14
	* Opponent's fields are now correctly displayed when connected while
	  in game.
	* Added a couple of lines of code for debugging.

1999-07-13
	* Pressing F2 to switch to partyline page now also activates the
	  entry box.

1999-07-10
	* GTetrinet no longer requires EsounD to compile.
	* Fixed bug where the MIDI is started when theme settings are changed
	  but game is not in progress.

1999-07-07 - version 0.3
	* Added icon + GNOME desktop file.

1999-07-05
	* Player field is now properly cleared when player leaves.
	* Improved theme selection page.
	* Changed entries in connection and team dialogs to gnome_entrys.

1999-06-23
	* MIDI player no longer runs if there is no MIDI for the current theme.

1999-06-08
	* Changed theme file key "Theme/ThemeName" to "Theme/Name".
	* Added theme file keys "Theme/Author" and "Theme/Description".

1999-05-31
	* Found and removed an annoying printf() statement.
        * Added keys (F1, F2, F3) to switch between notebook pages.
        * Added MIDI support through an external player.
        * Changed e-mail addresses. (so many!)

1999-05-27
	* Updated sound support to use esd's sample caching for faster sound.

1999-05-16
	* Added sound support through gnome-sound.
	* There is now a longer delay between the block hitting something and
	  the time it solidifies.  (should now be the same as Windows Tetrinet)
        * Added full stops on every sentence in the ChangeLog.

1999-04-09
	* Players now immediately lose if there is no space for the next
	  block.

1999-04-01 - version 0.2
	* Added preferences dialog.
        * Miscellaneous UI changes.
        * Updated URLs.

1999-03-28
	* Changed fields page player name & team display.
        * A short description is now displayed for the current special block.
        * Miscellaneous bug fixes.  (Thanks to drslum for pointing them out)

1999-03-25
	* Fixed block bomb behaviour - blocks are not scattered to top 6 lines,
	  and empty squares blown up by other blocks are scattered.

1999-03-24
	* Classic mode added lines and A-block added lines are now different,
	  like in original Tetrinet.  (Thanks to drslum for info)
	* Fixed switch field so that it removes lines at the bottom if there
	  are < 6 free lines at the top, instead of simply clearing the top 6
	  lines.

1999-03-22 - version 0.1
	* ChangeLog started.
